{% extends "base/base.html" %}
{% load static %}
{% block head %}
{% endblock head %}
{% block body %}

<main>
  <!-- hero section -->
  <section class="hero" style="overflow:visible">
    <div class="background-blur"></div>
    <div class="main-heading-index" >
        <h1>"The world is one family. See the divine in everyone and serve all selflessly" <br> - Baba Haidakhan</h1>
    </div>
    <div class="d-none search" >
        <h1>Bhole Baba Ki Jai</h1>
        <h2 class="mt-3">Let's bring the community together</h2>
        <p class="text-truncate f-Rg mb-2" > &nbsp; <span id="typing-text" class="fs-5">search for haidakhanid worldwide, Search across ‘4.6 Crore+‘ Businesses</span></p>
        <form action="search" class="">
            <div class="search-container">
                <div class="autocomplete">
                    <input type="text" class="form-control o" name="l" id="location-search" placeholder="Search by Location" autocomplete="off">
                    <div class="suggestions" id="location-suggestions"></div>
                </div>
                <div class="autocomplete" id="autocomplete-js">
                    <input type="text" class="form-control t" id="user-search" name="q" placeholder="Search by Name, Profession" autocomplete="off">
                    <div class="suggestions" id="suggestions"></div>
                </div>
                <button class="btn btn-search fs-5 me-1 thr" data-bs-toggle="modal" href="#exampleModalToggle" type="submit">Search</button>
            </div>
        </form>
        
        <h3 class="fs-4 mt-3">Find | Explore | Unite | Connect</h3>
        
    </div>
    
   </section>
  <!-- hero end -->

 <!-- category section -->
  <div class="d-flex justify-content-center py-md-4" style="background: #791815;">
      <img src="{% static 'img/tsl.svg' %}" style="height: 100px;" alt="" class="img-fluid">
  </div>
<!-- end -->
<!-- {% include 'base/index_components/ask_give.html' %} -->

 <!-- What is Haidakhandi.org-->
<!--<div class="parallax"></div> -->


{% include 'base/index_components/new_members.html' %}

{% include 'base/index_components/about_haidakhnaidorg.html' %}




 <!-- category section -->
{% include 'base/index_components/categories.html' %}
<!-- end -->

 <!-- Our Offring -->
{% include 'base/index_components/offerings.html' %}
<!-- end-->

<!-- Letest news  section -->
{% include 'base/index_components/news.html' %}
<!-- tagline end -->





{% include 'base/index_components/topsearch.html' %}


</main>


<!-- <div class="toast align-items-center position-fixed bottom-0 end-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="position-relative">
        <button type="button" class="btn-close position-absolute top-0 end-0 p-2 m-auto" style="z-index: 999;" data-bs-dismiss="toast" aria-label="Close"></button>
        <div class="toast-body">
            <a href="https://www.youtube.com/watch?v=--8YAVTQb58" target="_blank"><img src="{% static 'img/song/song1_thumbnail.jpg' %}" style="width: 100%;" alt=""></a>
        </div>
    </div>
</div> -->


<!-- First Visit Model -->

 
{% if not user.is_authenticated %}
<div class="modal fade" id="firstVisitModal2" tabindex="-1" aria-labelledby="firstVisitModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content h-auto w-auto">
            <div class="modal-body p-0">
               <div class="position-relative">
                    <a type="button" class="position-absolute text-black bi bi-x end-0 fs-2 me-3" data-bs-dismiss="modal" aria-label="Close"></a>
                        <a href="{% url 'register' %}" class="d-md-block d-none"><img src="{% static 'img/registerpopup/popup1.jpg'%}" class="rounded-2 img-fluid" alt=""></a>
                        <a href="{% url 'register' %}" class="d-block d-md-none" ><img src="{% static 'img/registerpopup/popup1mobile.jpg'%}" class="rounded-2 w-100 img-fluid" alt=""></a>
               </div>
            </div> 
        </div>
    </div>
</div>
{% endif %}

<!-- <div class="modal fade" id="firstVisitModal" tabindex="-1" aria-labelledby="firstVisitModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content h-auto w-auto">
            <div class="modal-body p-0">
               <div class="position-relative">
                    <a type="button" class="position-absolute text-black bi bi-x end-0 fs-2 me-3" data-bs-dismiss="modal" aria-label="Close"></a>
                        <a href="https://www.youtube.com/watch?v=--8YAVTQb58" target="_blank"><img src="{% static 'img/song/song1_thumbnail.jpg' %}" style="width: 100%;" alt=""></a>
               </div>
            </div> 
        </div>
    </div>
</div> -->
<!-- First Visit Model -->


{% endblock body %}
{% block script %}

<script src="{% static 'js/autocomplete.js' %}"></script>
<script src="{% static 'js/autocomplete_location.js' %}"></script>
<script>
    setTimeout(()=>{
        if(document.getElementById('firstVisitModal')){
        var myModal = new bootstrap.Modal(document.getElementById('firstVisitModal'), {
        backdrop: 'static', // Prevent closing by clicking outside
        keyboard: false // Disable closing via Escape key
        });
        myModal.show(); // Show the modal
    }  
    },5000)
      
    topsearch = document.querySelector('.top-search').querySelectorAll('.tag')
    topsearch.forEach(element => element.addEventListener("click", function () {
        q = element.innerText
        window.open(`/search?q=${q}`,'_self')

    }));

</script>

<script>
    // top-search search
    document.addEventListener("DOMContentLoaded", function () {
        const searchInput = document.querySelector(".top-search input[type='Search']");
        const tags = document.querySelectorAll(".top-search .tag");

        // Event listener for the search input
        searchInput.addEventListener("input", function () {
                const searchTerm = searchInput.value.toLowerCase();

                tags.forEach((tag) => {
                    const tagText = tag.textContent.toLowerCase();
                    if (tagText.includes(searchTerm)) {
                        tag.style.display = "block"; // Show matching tags
                    } else {
                        tag.style.display = "none"; // Hide non-matching tags
                    }
                });
            });
    });
</script>
<script>
setTimeout(() => {
    const heading = document.querySelector('.main-heading-index');
    const search = document.querySelector('.search');

    if (heading) {
        heading.classList.add('fade-out');
        setTimeout(() => {
            heading.classList.add('d-none');
        }, 1000); // Hide after fade-out animation
    }

    if (search) {
        search.classList.remove('d-none'); // Remove d-none first
        search.style.visibility = 'visible'; // Ensure visibility
        setTimeout(() => {
            search.classList.add('fade-in');
        }, 200); // Small delay for smoother transition
    }
}, 7000);



</script>

<script>
 $('#event-slider').slick({
    centerMode: true,
    centerPadding: '60px',
    slidesToShow: 3,
    autoplay: true,
    autoplaySpeed: 2000,
    responsive: [
      {
        breakpoint: 768,
        settings: {
          arrows: true,
          centerMode: true,
          centerPadding: '40px',
          slidesToShow: 2
        }
      },
      {
        breakpoint: 480,
        settings: {
          arrows: false,
          centerMode: false,
          centerPadding: '40px',
          slidesToShow: 1
        }
      },
    ]
  });
  

  $('#new-user-slider').slick({
    centerMode: false,
    centerPadding: '30px',
    slidesToShow: 4,
    autoplay: true,
    autoplaySpeed: 2000,
    responsive: [
      {
        breakpoint: 768,
        settings: {
          arrows: true,
          centerMode: true,
          centerPadding: '20px',
          slidesToShow: 2
        }
      },
      {
        breakpoint: 480,
        settings: {
          arrows: false,
          centerMode: false,
          centerPadding: '40px',
          slidesToShow: 1
        }
      },
    ]
  });
  

</script>

<script src="{% static 'js/typing_infinite.js' %}"></script>

{% endblock script %}